(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{214:function(e,t,r){"use strict";var n=r(5893),a=r(7757),s=r.n(a),o=r(2137),i=r(9956),c=r(8463),l=r(9912),u=r(2318),p=r(951),d=r(5984),h=r(765),f=r(3883),x=r.n(f),v=r(8311),y=r(7294);t.Z=function(e){var t=e.movie,r=(0,y.useState)(!1),a=r[0],f=r[1];(0,y.useEffect)((function(){(function(){var e=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f,e.next=3,(0,v.q1)(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t.imdbID)}),[t.imdbID]);var m=function(){var e=(0,o.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.YH)(t,!a);case 2:if(!e.sent){e.next=4;break}f(!a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,n.jsx)(i.Z,{mb:3,children:(0,n.jsxs)(c.Z,{className:x().card,children:[(0,n.jsx)(p.Z,{className:x().poster,image:t.Poster,title:t.Title}),(0,n.jsxs)(l.Z,{align:"left",children:[(0,n.jsx)(u.Z,{color:"textSecondary",gutterBottom:!0,children:t.Type}),(0,n.jsx)(u.Z,{variant:"h5",component:"h2",gutterBottom:!0,children:(0,n.jsx)("strong",{children:t.Title})}),(0,n.jsxs)(u.Z,{component:"p",children:[t.Year,a?(0,n.jsx)(d.Z,{className:x().star,onClick:m}):(0,n.jsx)(h.Z,{className:x().star,onClick:m})]})]})]})})}},8029:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});var n=r(5893),a=r(8286),s=r(2318),o=r(770),i=r(1003),c=r(6486),l=r(7294),u=r(7757),p=r.n(u),d=r(2137),h=r(5477),f=r(9956),x=r(9669),v=r.n(x);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=t.year?"&y=".concat(t.year):"",a=t.type?"&type=".concat(t.type):"";return"https://www.omdbapi.com/?apikey=".concat("77bad04d","&s=").concat(e,"&page=").concat(r).concat(n).concat(a)}var m=r(214),j=r(282),Z=function(){var e=(0,l.useState)(!1),t=e[0],r=e[1],a=(0,o.bp)(),s=a.state,u=a.dispatch,x=(0,l.useCallback)(function(){var e=(0,d.Z)(p().mark((function e(t,n,a){var s,o,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,v().get(y(t,n,a));case 4:c=e.sent,u({type:i.Dx,payload:{results:(null===(s=c.data)||void 0===s?void 0:s.Search)||[],total:null===(o=c.data)||void 0===o?void 0:o.totalResults}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u({type:i.Dx,payload:{results:[],total:0}});case 11:r(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r,n){return e.apply(this,arguments)}}(),[u]);return(0,l.useEffect)((function(){var e;(null===(e=s.searchQuery)||void 0===e?void 0:e.length)>1&&x(s.searchQuery,s.searchQueryFilters,s.searchResultsPage)}),[s.searchQuery,s.searchResultsPage,s.searchQueryFilters,x]),s.searchQuery?(0,n.jsxs)(f.Z,{mt:3,align:"center",children:[s.searchQuery&&!t&&(0,n.jsxs)(f.Z,{mb:3,children:["Search results: ",s.searchResultsTotal]}),(0,c.sortBy)(s.searchResults,[s.searchResultsSort]).map((function(e){return(0,n.jsx)(m.Z,{movie:e},e.imdbID)})),t&&(0,n.jsx)(f.Z,{children:(0,n.jsx)(h.Z,{})}),!t&&s.searchResults.length>0&&(0,n.jsx)(f.Z,{children:(0,n.jsx)(j.Z,{variant:"contained",onClick:function(){return u({type:i.o4,payload:s.searchResultsPage+1})},children:"Load more"})})]}):(0,n.jsx)("div",{})},g=r(4436),b=r(6015),_=r(6394),w=r(553),C=r(8060),k=r(7162),S=r(6019),N=r(1120),T=r(7070),Q=r.n(T),E=(0,N.Z)((function(e){return{formControl:{minWidth:120},selectEmpty:{marginTop:e.spacing(2)},sortBox:{marginRight:0,marginLeft:"auto"}}})),F=function(){var e=E(),t=(0,o.bp)(),r=t.state,a=t.dispatch;return(0,n.jsxs)("div",{className:Q().root,children:[(0,n.jsxs)(g.Z,{className:e.formControl,children:[(0,n.jsx)(_.Z,{htmlFor:"year-filter",children:"Year"}),(0,n.jsxs)(b.Z,{native:!0,value:r.searchQueryFilters.year,onChange:function(e){return a({type:i.ky,payload:{year:e.target.value,type:r.searchQueryFilters.type}})},inputProps:{name:"year",id:"year-filter"},children:[(0,n.jsx)("option",{"aria-label":"None",value:""}),(0,c.range)(1950,2021).map((function(e){return(0,n.jsx)("option",{value:e,children:e},"option-".concat(e))}))]})]}),(0,n.jsxs)(g.Z,{className:e.formControl,children:[(0,n.jsx)(_.Z,{htmlFor:"type-filter",children:"Type"}),(0,n.jsxs)(b.Z,{native:!0,value:r.searchQueryFilters.type,onChange:function(e){return a({type:i.ky,payload:{type:e.target.value,year:r.searchQueryFilters.year}})},inputProps:{name:"type",id:"type-filter"},children:[(0,n.jsx)("option",{"aria-label":"All",value:""}),(0,n.jsx)("option",{"aria-label":"Movie",value:"movie",children:"Movie"}),(0,n.jsx)("option",{"aria-label":"Series",value:"series",children:"Series"}),(0,n.jsx)("option",{"aria-label":"Episode",value:"episode",children:"Episode"})]})]}),(0,n.jsxs)(g.Z,{component:"fieldset",className:e.sortBox,children:[(0,n.jsx)(S.Z,{component:"legend",children:"Sort by"}),(0,n.jsxs)(k.Z,{"aria-label":"sort",name:"sort",row:!0,value:r.searchResultsSort,onChange:function(e){return a({type:i.A3,payload:e.target.value})},children:[(0,n.jsx)(w.Z,{value:"Title",control:(0,n.jsx)(C.Z,{}),label:"Title"}),(0,n.jsx)(w.Z,{value:"Year",control:(0,n.jsx)(C.Z,{}),label:"Year"})]})]})]})},P=function(){var e=(0,o.bp)().dispatch,t=function(t){e({type:i.A9,payload:t.target.value})},r=(0,l.useCallback)((0,c.debounce)(t,400),[c.debounce,t]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Z,{variant:"h4",component:"h1",align:"center",color:"textSecondary",gutterBottom:!0,children:"Search for movies and series"}),(0,n.jsx)("form",{noValidate:!0,autoComplete:"off",children:(0,n.jsx)(a.Z,{id:"search-query",label:"Start typing a title",fullWidth:!0,helperText:"Powered by The OMDb API",onChange:r})}),(0,n.jsx)(F,{}),(0,n.jsx)(Z,{})]})}},8581:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8029)}])},3883:function(e){e.exports={card:"MovieCard_card__x_KS2",poster:"MovieCard_poster__1vZwa",star:"MovieCard_star__1_77s"}},7070:function(e){e.exports={root:"SearchFilter_root__1JUoO"}}},function(e){e.O(0,[662,286,681,688,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);